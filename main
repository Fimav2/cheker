#include <iostream>
#include <vector>
#include "check_sortic.h"
#include <string>

using namespace std;

int main()
{
    string str;
    int n, k, i;
    cin >> n;
    vector <int> a (n, 0);
    vector <int> b (0, 0);
    for (i = 0; i < n; i++){
        cin >> k;
        a[i] = k;
    }
    cin >> str;
    while (str != "!")
        {
            if (str == "sa")
                s(a);
            if (str == "sb")
                s(b);
            if (str == "ss"){
                s(a);
                s(b);
            }

            if(str == "pa")
                p(a,b);
            if(str =="pb")
                p(b,a);
            if(str == "rr")
                rr(a);
            cin >> str;
        }




    for (i = 0; i < a.size(); i++)
        cout << a[i] << " ";
}
